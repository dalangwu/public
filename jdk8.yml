- name: copy java_jdk.tar.gz
  copy: src=/package/java_jdk.tar.gz dest=/usr/local                                                                                                
- name: unzip jdk 
  command: /bin/tar xf /tmp/java_jdk.tar.gz -C /usr/local
- name: add /etc/profile
  lineinfile: dest=/etc/profile regexp="^JAVA_HOME=" line="JAVA_HOME=/usr/local/java
- name: add /etc/profile
  lineinfile: dest=/etc/profile regexp="^CLASS_PATH=" line="CLASS_PATH=$JAVA_HOME/lib:$JAVA_HOME/jre/lib"
- name: add /etc/profile
  lineinfile: dest=/etc/profile regexp="^PATH=\$PATH:\$JAVA_HOME" line="PATH=$PATH:$JAVA_HOME/bin"
- name: add /etc/profile
  lineinfile : dest=/etc/profile regexp="^export JAVA_HOME" line="export JAVA_HOME"